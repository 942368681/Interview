<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Document</title>
</head>
<body>
   <script type="text/javascript">
      /*
         重排比重绘更耗性能！

         当DOM的变化影响了元素的几何属性（宽或高），浏览器需要重新计算元素的几何属性，同样其他元素的几何属性和位置也会因此受到影响。浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。这个过程称为重排。完成重排后，浏览器会重新绘制受影响的部分到屏幕，该过程称为重绘。

         并不是所有的DOM变化都会影响几何属性，比如改变一个元素的背景色并不会影响元素的宽和高，这种情况下只会发生重绘。

         每次重排，必然会导致重绘，那么，重排会在哪些情况下发生？
            添加或者删除可见的DOM元素
            元素位置改变
            元素尺寸改变
            元素内容改变（例如：一个文本被另一个不同尺寸的图片替代）
            页面渲染初始化（这个无法避免）
            浏览器窗口尺寸改变

         优化
            1、尽量不要在布局信息改变时做查询（会导致渲染队列强制刷新）
            2、同一个DOM的多个属性改变可以写在一起（减少DOM访问，同时把强制渲染队列刷新的风险降为0）
            3、如果要批量添加DOM，可以先让元素脱离文档流，操作完后再带入文档流，这样只会触发一次重排（fragment元素的应用）
            4、将需要多次重排的元素，position属性设为absolute或fixed，这样此元素就脱离了文档流，它的变化不会影响到其他元素。例如有动画效果的元素就最好设置为绝对定位。
      */
   </script>
</body>
</html>
